!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var i=(a=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),r=o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"});return[n].concat(r).concat([i]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(o[r]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var o,i,r={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=o.apply(this,arguments)),i}),s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),l=null,p=0,c=[],d=n(4);function u(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=r[o.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](o.parts[a]);for(;a<o.parts.length;a++)i.parts.push(y(o.parts[a],t))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(y(o.parts[a],t));r[o.id]={id:o.id,refs:1,parts:s}}}}function h(e,t){for(var n=[],o={},i=0;i<e.length;i++){var r=e[i],a=t.base?r[0]+t.base:r[0],s={css:r[1],media:r[2],sourceMap:r[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}function f(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=c[c.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),c.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,i)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function g(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),v(t,e.attrs),f(e,t),t}function v(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function y(e,t){var n,o,i,r;if(t.transform&&e.css){if(!(r=t.transform(e.css)))return function(){};e.css=r}if(t.singleton){var a=p++;n=l||(l=g(t)),o=C.bind(null,n,a,!1),i=C.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),f(e,t),t}(t),o=function(e,t,n){var o=n.css,i=n.sourceMap,r=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||r)&&(o=d(o));i&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([o],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),i=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),o=function(e,t){var n=t.css,o=t.media;o&&e.setAttribute("media",o);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){m(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return u(n,t),function(e){for(var o=[],i=0;i<n.length;i++){var a=n[i];(s=r[a.id]).refs--,o.push(s)}e&&u(h(e,t),t);for(i=0;i<o.length;i++){var s;if(0===(s=o[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete r[s.id]}}}};var b,w=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function C(e,t,n,o){var i=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=w(t,i);else{var r=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}},function(e,t,n){var o=n(3);"string"==typeof o&&(o=[[e.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(1)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"html {\n  width: 24em;\n  height: 35em;\n  margin: 0;\n  overflow-y: hidden;\n  font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\n  box-sizing: border-box; }\n\nbody {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0.5em;\n  overflow-y: scroll;\n  box-sizing: border-box; }\n\n#options-page {\n  width: 100%; }\n\n#overlay-mode-wrapper {\n  display: block; }\n  #overlay-mode-wrapper #overlay-mode-additional {\n    display: flex;\n    flex-flow: column nowrap;\n    margin-left: 1.5em; }\n  #overlay-mode-wrapper #overlay-opacity-wrapper,\n  #overlay-mode-wrapper #backdrop-opacity-wrapper {\n    display: flex;\n    justify-content: space-between;\n    margin: 0.25em 0 0.25em 0; }\n  #overlay-mode-wrapper #backdrop-color-wrapper {\n    display: flex;\n    justify-content: space-between;\n    margin: 0.25em 0 0.25em 0; }\n\n#custom-colors-wrapper {\n  display: block; }\n  #custom-colors-wrapper #custom-colors-additional {\n    display: flex;\n    flex-flow: column nowrap;\n    margin-left: 1.5em; }\n    #custom-colors-wrapper #custom-colors-additional div {\n      display: flex;\n      justify-content: space-between; }\n\n#primary-color,\n#secondary-color {\n  width: 8em;\n  height: 2em;\n  margin-left: 0.4em;\n  background-color: white;\n  border: none; }\n\n#animation-speed-wrapper,\n#mini-size-wrapper {\n  display: flex;\n  justify-content: space-between;\n  padding-right: 0.4em; }\n\n.animation-speed-display,\n.mini-size-display {\n  display: flex;\n  width: 4em;\n  justify-content: center;\n  border: 1px solid #888; }\n\n#mini-position-wrapper,\n#click-modifier-wrapper,\n#show-date-wrapper {\n  display: grid;\n  grid-template-columns: auto 1fr; }\n\n#mini-position,\n#click-modifier,\n#show-date {\n  margin-left: 1em; }\n\n#theme-wrapper,\n#info-position-wrapper {\n  display: block; }\n\n#theme-choices,\n#info-position-choices {\n  display: flex;\n  flex-flow: column nowrap;\n  margin-left: 1.5em; }\n  #theme-choices input[name=theme],\n  #info-position-choices input[name=theme] {\n    margin-right: 0.5em; }\n\ninput[type=button] {\n  padding: 0.5em;\n  background-color: white;\n  border: 1px solid lightgray;\n  border-radius: 4px;\n  cursor: pointer; }\n\ninput[type=button]:hover {\n  background-color: #f0f0f0; }\n\ninput[type=button]:active {\n  background-color: #d9d9d9; }\n\n#actions {\n  display: grid;\n  grid-template-columns: 1fr; }\n\n#restore-defaults {\n  grid-column: 1 / 4; }\n\n#links {\n  display: block;\n  grid-row: 3;\n  grid-column: 1 / 4; }\n  #links a {\n    margin-right: 1em; }\n\n.mini-opt .header-left img {\n  transform: rotateY(180deg); }\n",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i,r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?e:(i=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:o+r.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(e,t,n){var o=n(6);"string"==typeof o&&(o=[[e.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(1)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"options-group {\n  display: block;\n  border: 1px solid lightgray;\n  margin-bottom: 1em; }\n  options-group .options-group-header {\n    display: grid;\n    grid-template-columns: 3fr 1fr;\n    grid-auto-flow: column;\n    align-items: center;\n    color: rgba(0, 0, 0, 0.7);\n    padding: 0.7em 0;\n    padding-left: 0.7em;\n    padding-right: 0em;\n    border-bottom: 1px solid lightgray; }\n    options-group .options-group-header > * {\n      margin: 0 0.3em; }\n    options-group .options-group-header .header-left {\n      display: flex;\n      align-items: center; }\n    options-group .options-group-header .header-right {\n      display: flex;\n      align-items: center;\n      justify-content: flex-end;\n      padding-right: 0.7em; }\n    options-group .options-group-header .options-group-name {\n      margin-left: 0.5em;\n      font-size: 1.3em; }\n    options-group .options-group-header .options-group-help {\n      cursor: pointer; }\n  options-group .options-group-content {\n    display: block;\n    flex-flow: column nowrap;\n    grid-column-gap: 1em;\n    padding: 0.2em 0.2em; }\n    options-group .options-group-content .option-wrapper {\n      display: flex;\n      align-items: center;\n      margin: 0.5em; }\n    options-group .options-group-content .input-wrapper {\n      display: flex;\n      align-items: center; }\n    options-group .options-group-content .option-label {\n      margin-left: 0.2em;\n      font-size: 1.2em; }\n",""])},function(e,t,n){"use strict";n.r(t);var o=function(){},i={},r=[],a=[];function s(e,t){var n,s,l,p,c=a;for(p=arguments.length;p-- >2;)r.push(arguments[p]);for(t&&null!=t.children&&(r.length||r.push(t.children),delete t.children);r.length;)if((s=r.pop())&&void 0!==s.pop)for(p=s.length;p--;)r.push(s[p]);else"boolean"==typeof s&&(s=null),(l="function"!=typeof e)&&(null==s?s="":"number"==typeof s?s=String(s):"string"!=typeof s&&(l=!1)),l&&n?c[c.length-1]+=s:c===a?c=[s]:c.push(s),n=l;var d=new o;return d.nodeName=e,d.children=c,d.attributes=null==t?void 0:t,d.key=null==t?void 0:t.key,void 0!==i.vnode&&i.vnode(d),d}function l(e,t){for(var n in t)e[n]=t[n];return e}var p="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;var c=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,d=[];function u(e){!e._dirty&&(e._dirty=!0)&&1==d.push(e)&&(i.debounceRendering||p)(h)}function h(){var e,t=d;for(d=[];e=t.pop();)e._dirty&&U(e)}function f(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function m(e){var t=l({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var o in n)void 0===t[o]&&(t[o]=n[o]);return t}function g(e){var t=e.parentNode;t&&t.removeChild(e)}function v(e,t,n,o,i){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),o&&o(e);else if("class"!==t||i)if("style"===t){if(o&&"string"!=typeof o&&"string"!=typeof n||(e.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof n)for(var r in n)r in o||(e.style[r]="");for(var r in o)e.style[r]="number"==typeof o[r]&&!1===c.test(r)?o[r]+"px":o[r]}}else if("dangerouslySetInnerHTML"===t)o&&(e.innerHTML=o.__html||"");else if("o"==t[0]&&"n"==t[1]){var a=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),o?n||e.addEventListener(t,y,a):e.removeEventListener(t,y,a),(e._listeners||(e._listeners={}))[t]=o}else if("list"!==t&&"type"!==t&&!i&&t in e){try{e[t]=null==o?"":o}catch(e){}null!=o&&!1!==o||"spellcheck"==t||e.removeAttribute(t)}else{var s=i&&t!==(t=t.replace(/^xlink:?/,""));null==o||!1===o?s?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof o&&(s?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),o):e.setAttribute(t,o))}else e.className=o||""}function y(e){return this._listeners[e.type](i.event&&i.event(e)||e)}var b=[],w=0,C=!1,k=!1;function S(){for(var e;e=b.pop();)i.afterMount&&i.afterMount(e),e.componentDidMount&&e.componentDidMount()}function _(e,t,n,o,i,r){w++||(C=null!=i&&void 0!==i.ownerSVGElement,k=null!=e&&!("__preactattr_"in e));var a=x(e,t,n,o,r);return i&&a.parentNode!==i&&i.appendChild(a),--w||(k=!1,r||S()),a}function x(e,t,n,o,i){var r=e,a=C;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||i)?e.nodeValue!=t&&(e.nodeValue=t):(r=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(r,e),O(e,!0))),r.__preactattr_=!0,r;var s,l,p=t.nodeName;if("function"==typeof p)return function(e,t,n,o){var i=e&&e._component,r=i,a=e,s=i&&e._componentConstructor===t.nodeName,l=s,p=m(t);for(;i&&!l&&(i=i._parentComponent);)l=i.constructor===t.nodeName;i&&l&&(!o||i._component)?(j(i,p,3,n,o),e=i.base):(r&&!s&&(z(r),e=a=null),i=B(t.nodeName,p,n),e&&!i.nextBase&&(i.nextBase=e,a=null),j(i,p,1,n,o),e=i.base,a&&e!==a&&(a._component=null,O(a,!1)));return e}(e,t,n,o);if(C="svg"===p||"foreignObject"!==p&&C,p=String(p),(!e||!f(e,p))&&(s=p,(l=C?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s)).normalizedNodeName=s,r=l,e)){for(;e.firstChild;)r.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(r,e),O(e,!0)}var c=r.firstChild,d=r.__preactattr_,u=t.children;if(null==d){d=r.__preactattr_={};for(var h=r.attributes,y=h.length;y--;)d[h[y].name]=h[y].value}return!k&&u&&1===u.length&&"string"==typeof u[0]&&null!=c&&void 0!==c.splitText&&null==c.nextSibling?c.nodeValue!=u[0]&&(c.nodeValue=u[0]):(u&&u.length||null!=c)&&function(e,t,n,o,i){var r,a,s,l,p,c=e.childNodes,d=[],u={},h=0,m=0,v=c.length,y=0,b=t?t.length:0;if(0!==v)for(var w=0;w<v;w++){var C=c[w],k=C.__preactattr_,S=b&&k?C._component?C._component.__key:k.key:null;null!=S?(h++,u[S]=C):(k||(void 0!==C.splitText?!i||C.nodeValue.trim():i))&&(d[y++]=C)}if(0!==b)for(var w=0;w<b;w++){l=t[w],p=null;var S=l.key;if(null!=S)h&&void 0!==u[S]&&(p=u[S],u[S]=void 0,h--);else if(m<y)for(r=m;r<y;r++)if(void 0!==d[r]&&(_=a=d[r],P=i,"string"==typeof(M=l)||"number"==typeof M?void 0!==_.splitText:"string"==typeof M.nodeName?!_._componentConstructor&&f(_,M.nodeName):P||_._componentConstructor===M.nodeName)){p=a,d[r]=void 0,r===y-1&&y--,r===m&&m++;break}p=x(p,l,n,o),s=c[w],p&&p!==e&&p!==s&&(null==s?e.appendChild(p):p===s.nextSibling?g(s):e.insertBefore(p,s))}var _,M,P;if(h)for(var w in u)void 0!==u[w]&&O(u[w],!1);for(;m<=y;)void 0!==(p=d[y--])&&O(p,!1)}(r,u,n,o,k||null!=d.dangerouslySetInnerHTML),function(e,t,n){var o;for(o in n)t&&null!=t[o]||null==n[o]||v(e,o,n[o],n[o]=void 0,C);for(o in t)"children"===o||"innerHTML"===o||o in n&&t[o]===("value"===o||"checked"===o?e[o]:n[o])||v(e,o,n[o],n[o]=t[o],C)}(r,t.attributes,d),C=a,r}function O(e,t){var n=e._component;n?z(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||g(e),M(e))}function M(e){for(e=e.lastChild;e;){var t=e.previousSibling;O(e,!0),e=t}}var P=[];function B(e,t,n){var o,i=P.length;for(e.prototype&&e.prototype.render?(o=new e(t,n),I.call(o,t,n)):((o=new I(t,n)).constructor=e,o.render=N);i--;)if(P[i].constructor===e)return o.nextBase=P[i].nextBase,P.splice(i,1),o;return o}function N(e,t,n){return this.constructor(e,n)}function j(e,t,n,o,r){e._disable||(e._disable=!0,e.__ref=t.ref,e.__key=t.key,delete t.ref,delete t.key,void 0===e.constructor.getDerivedStateFromProps&&(!e.base||r?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,o)),o&&o!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=o),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===i.syncComponentUpdates&&e.base?u(e):U(e,1,r)),e.__ref&&e.__ref(e))}function U(e,t,n,o){if(!e._disable){var r,a,s,p=e.props,c=e.state,d=e.context,u=e.prevProps||p,h=e.prevState||c,f=e.prevContext||d,g=e.base,v=e.nextBase,y=g||v,C=e._component,k=!1,x=f;if(e.constructor.getDerivedStateFromProps&&(c=l(l({},c),e.constructor.getDerivedStateFromProps(p,c)),e.state=c),g&&(e.props=u,e.state=h,e.context=f,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(p,c,d)?k=!0:e.componentWillUpdate&&e.componentWillUpdate(p,c,d),e.props=p,e.state=c,e.context=d),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!k){r=e.render(p,c,d),e.getChildContext&&(d=l(l({},d),e.getChildContext())),g&&e.getSnapshotBeforeUpdate&&(x=e.getSnapshotBeforeUpdate(u,h));var M,P,N=r&&r.nodeName;if("function"==typeof N){var I=m(r);(a=C)&&a.constructor===N&&I.key==a.__key?j(a,I,1,d,!1):(M=a,e._component=a=B(N,I,d),a.nextBase=a.nextBase||v,a._parentComponent=e,j(a,I,0,d,!1),U(a,1,n,!0)),P=a.base}else s=y,(M=C)&&(s=e._component=null),(y||1===t)&&(s&&(s._component=null),P=_(s,r,d,n||!g,y&&y.parentNode,!0));if(y&&P!==y&&a!==C){var T=y.parentNode;T&&P!==T&&(T.replaceChild(P,y),M||(y._component=null,O(y,!1)))}if(M&&z(M),e.base=P,P&&!o){for(var L=e,E=e;E=E._parentComponent;)(L=E).base=P;P._component=L,P._componentConstructor=L.constructor}}for(!g||n?b.unshift(e):k||(e.componentDidUpdate&&e.componentDidUpdate(u,h,x),i.afterUpdate&&i.afterUpdate(e));e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);w||o||S()}}function z(e){i.beforeUnmount&&i.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?z(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,g(t),P.push(e),M(t)),e.__ref&&e.__ref(null)}function I(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{},this._renderCallbacks=[]}function T(e,t,n){return _(n,e,{},!1,t,!1)}l(I.prototype,{setState:function(e,t){this.prevState||(this.prevState=this.state),this.state=l(l({},this.state),"function"==typeof e?e(this.state,this.props):e),t&&this._renderCallbacks.push(t),u(this)},forceUpdate:function(e){e&&this._renderCallbacks.push(e),U(this,2)},render:function(){}});n(2),n(5);class L extends I{render(e){return s("options-group",{class:e.class?e.class:null},s("div",{class:"options-group-header"},s("div",{class:"header-left"},s("img",{src:e.icon}),s("span",{class:"options-group-name"},e.title))),s("div",{class:"options-group-content"},e.children))}}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var D=e=>{const t=e.themes.map(t=>{const n=t.toLowerCase();return s("div",null,s("input",E({id:"theme-"+n,name:"theme",value:n},{checked:e.theme===n},{type:"radio"})),s("label",{for:"theme-light"},t))});return s(L,{title:"Popup",class:"popup-opt",icon:"icons/popup.svg"},s("div",{id:"theme-wrapper",class:"option-wrapper"},s("div",{class:"input-wrapper"},s("span",{class:"option-label"},"Theme")),s("div",{id:"theme-choices",onChange:e.handleThemeChange},t)),s("div",{id:"info-position-wrapper",class:"option-wrapper"},s("div",{class:"input-wrapper"},s("span",{class:"option-label"},"Video Information Position")),s("div",{id:"info-position-choices",onChange:e.handleInfoPositionChange},s("div",null,s("input",E({id:"info-position-top",name:"info-position",value:"top"},{checked:"top"===e.infoPosition},{type:"radio"})),s("label",{for:"info-position-top"},"Top")),s("div",null,s("input",E({id:"info-position-bottom",name:"info-position",value:"bottom"},{checked:"bottom"===e.infoPosition},{type:"radio"})),s("label",{for:"info-position-bottom"},"Bottom"))),s("div",{id:"title-center-wrapper",class:"option-wrapper"},s("div",{class:"input-wrapper"},s("input",{id:"title-center",type:"checkbox",onChange:t=>e.toggleOption("titleCenterEnabled"),checked:e.titleCenterEnabled}),s("label",{for:"title-center",class:"option-label"},"Center video title")))),s("div",{id:"show-date-wrapper",class:"option-wrapper"},s("label",{for:"show-date",title:"Show the date the video was published above the views",class:"option-label"},"Show Date"),s("select",{id:"show-date",value:e.showDate,onChange:e.handleShowDateChange},s("option",{value:"off"},"Off"),s("option",{value:"top"},"Top"),s("option",{value:"bottom"},"Bottom"))),s("div",{id:"click-modifier-wrapper",class:"option-wrapper"},s("label",{for:"click-modifier",title:"Only show the popup if the modifier key is pressed when a thumbnail is clicked",class:"option-label"},"Click Modifier"),s("select",{id:"click-modifier",value:e.clickModifier,onChange:e.handleModifierChange},s("option",{value:"none"},"None (default)"),s("option",{value:"shift"},"Shift"),s("option",{value:"alt"},"Alt"),s("option",{value:"ctrl"},"Ctrl"))))};var A=e=>s(L,{title:"Mini Mode",class:"mini-opt",icon:"icons/mini.svg"},s("div",{id:"mini-default-wrapper",class:"option-wrapper"},s("div",{class:"input-wrapper"},s("input",{id:"mini-default",type:"checkbox",onChange:t=>e.toggleOption("miniDefault"),checked:e.miniDefault}),s("label",{for:"mini-default",class:"option-label"},"Open mini player by default"))),s("div",{id:"mini-position-wrapper",class:"option-wrapper"},s("label",{for:"mini-position",title:"Changes the position of the mini player",class:"option-label"},"Mini Position"),s("select",{id:"mini-position",value:e.miniPosition,onChange:e.handleMiniPositionChange},s("option",{value:"br"},"Bottom Right"),s("option",{value:"bl"},"Bottom Left"),s("option",{value:"tr"},"Top Right"),s("option",{value:"tl"},"Top Left"))),s("div",{id:"mini-size-wrapper",class:"option-wrapper"},s("label",{for:"mini-size",title:"Changes the size of the mini player",class:"option-label"},"Mini Size"),s("input",{id:"mini-size",type:"range",min:"10",max:"30",step:"1",onInput:e.handleMiniSizeChange,value:e.miniSize}),s("input",{type:"number",min:"10",max:"30",onInput:e.handleMiniSizeChange,class:"mini-size-display",value:e.miniSize})));var R=e=>s(L,{title:"Comments",class:"comments-opt",icon:"icons/comments.svg"},s("div",{id:"comment-borders-wrapper",class:"option-wrapper"},s("div",{class:"input-wrapper"},s("input",{id:"comment-borders",type:"checkbox",onChange:t=>e.toggleOption("commentBorders"),checked:e.commentBorders}),s("label",{for:"comment-borders",class:"option-label"},"Add a border around each comment"))),s("div",{id:"comment-padding-wrapper",class:"option-wrapper"},s("div",{class:"input-wrapper"},s("input",{id:"comment-padding",type:"checkbox",onChange:t=>e.toggleOption("commentSpacing"),checked:e.commentSpacing}),s("label",{for:"comment-padding",class:"option-label"},"Increased spacing between comments"))),s("div",{id:"comment-separation-wrapper",class:"option-wrapper"},s("div",{class:"input-wrapper"},s("input",{id:"comment-separation",type:"checkbox",onChange:t=>e.toggleOption("commentSeparation"),checked:e.commentSeparation}),s("label",{for:"comment-separation",class:"option-label"},"Separate video and comment panels"))));var F=e=>{const t=s("div",{id:"custom-colors-additional"},s("div",null,s("label",{for:"primary-color"},"Primary"),s("input",{id:"primary-color",value:e.primaryColor,onInput:e.handleColorChange,type:"color"})),s("div",null,s("label",{for:"secondary-color"},"Secondary"),s("input",{id:"secondary-color",value:e.secondaryColor,onInput:e.handleColorChange,type:"color"}))),n=s("div",{id:"overlay-mode-additional"},s("div",{id:"overlay-opacity-wrapper",class:"option-wrapper"},s("label",{for:"overlay-opacity",title:"Changes the opacity of the overlayed visualizers"},"Opacity"),s("input",{id:"mini-size",type:"range",min:"0.1",max:"1",step:"0.01",onInput:e.handleOverlayOpacityChange,value:e.overlayOpacity}),s("input",{type:"number",min:"0.1",max:"1",step:"0.01",onInput:e.handleOverlayOpacityChange,class:"mini-size-display",value:e.overlayOpacity})),s("div",{id:"backdrop-opacity-wrapper",class:"option-wrapper"},s("label",{for:"backdrop-opacity",title:"Changes the opacity of the overlayed visualizers"},"Backdrop Opacity"),s("input",{id:"mini-size",type:"range",min:"0",max:"1",step:"0.01",onInput:e.handleBackdropOpacityChange,value:e.backdropOpacity}),s("input",{type:"number",min:"0",max:"1",step:"0.01",onInput:e.handleBackdropOpacityChange,class:"mini-size-display",value:e.backdropOpacity})),s("div",{id:"backdrop-color-wrapper"},s("label",{for:"backdrop-color"},"Backdrop Color"),s("input",{id:"backdrop-color",value:e.backdropColor,onInput:e.handleBackdropColorChange,type:"color"})));return s(L,{title:"Visualizer",class:"vis-opt",icon:"icons/visualizer.svg"},s("div",{id:"overlay-mode-wrapper",class:"option-wrapper"},s("div",{class:"input-wrapper"},s("input",{id:"overlay-mode",type:"checkbox",onChange:t=>e.toggleOption("overlayMode"),checked:e.overlayMode}),s("label",{for:"overlay-mode",class:"option-label",title:"Overlays the visualizer over the video instead of in a separate panel"},"Overlay visualizers on top of the video")),e.overlayMode?n:null),s("div",{id:"custom-colors-wrapper",class:"option-wrapper"},s("div",{class:"input-wrapper"},s("input",{id:"custom-colors",type:"checkbox",onChange:t=>e.toggleOption("customColorsEnabled"),checked:e.customColorsEnabled}),s("label",{for:"custom-colors",class:"option-label",title:"Allows you to set custom colors for visualizers to use"},"Enable custom visualizer colors")),e.customColorsEnabled?t:null),s("div",{id:"animation-speed-wrapper",class:"option-wrapper"},s("label",{for:"animation-speed",title:"Change the speed of visualizers that use elapsed time to move (Iverjo, Plaid). Mainly for high refresh rate monitors",class:"option-label"},"Animation Speed"),s("input",{id:"animation-speed",type:"range",min:"10",max:"150",step:"1",onInput:e.handleSpeedChange,value:e.animationSpeed}),s("input",{type:"number",min:"10",max:"150",onInput:e.handleSpeedChange,class:"animation-speed-display",value:e.animationSpeed})))};function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}T(s(class extends I{constructor(){super(),V(this,"toggleOption",e=>{if(!this.state.hasOwnProperty(e))throw new Error(`'${e}' is not an option`);{const t={};t[e]=!this.state[e],this.setState(t)}}),V(this,"handleOverlayOpacityChange",e=>{this.setState({overlayOpacity:parseFloat(e.target.value,10)})}),V(this,"handleBackdropOpacityChange",e=>{this.setState({backdropOpacity:parseFloat(e.target.value,10)})}),V(this,"handleBackdropColorChange",e=>{"backdrop-color"===e.target.id&&this.setState({backdropColor:e.target.value})}),V(this,"handleSpeedChange",e=>{this.setState({animationSpeed:parseInt(e.target.value,10)})}),V(this,"handleMiniSizeChange",e=>{this.setState({miniSize:parseInt(e.target.value,10)})}),V(this,"handleMiniPositionChange",e=>{this.setState({miniPosition:e.target.value})}),V(this,"handleThemeChange",e=>{this.setState({theme:e.target.value})}),V(this,"handleInfoPositionChange",e=>{this.setState({infoPosition:e.target.value})}),V(this,"handleRestoreDefaults",e=>{confirm("Are you sure you want to restore the default options?")&&this.setState(Object.assign(this.state,this.defaultOptions))}),V(this,"handleModifierChange",e=>{this.setState({clickModifier:e.target.value})}),V(this,"handleShowDateChange",e=>{this.setState({showDate:e.target.value})}),V(this,"handleColorChange",e=>{const t=e.target.id;"primary-color"===t?this.setState({primaryColor:e.target.value}):"secondary-color"===t&&this.setState({secondaryColor:e.target.value})}),this.themes=["Light","Dark","Gray"],this.defaultOptions={customColorsEnabled:!1,animationSpeed:90,primaryColor:"#C8C800",secondaryColor:"#00eeee",overlayMode:!1,overlayOpacity:.7,backdropOpacity:0,backdropColor:"#000000",miniSize:25,miniPosition:"br",miniDefault:!1,commentBorders:!1,commentSpacing:!1,commentSeparation:!1,infoPosition:"bottom",theme:"light",clickModifier:"none",titleCenterEnabled:!1,showDate:"top"},this.state=Object.assign({},this.defaultOptions)}componentDidMount(){this.loadOptions().then(e=>{this.setState(Object.assign({},e)),console.log("Loaded saved options",e)}).catch(e=>{console.log("Couldn't get saved user options. Using defaults.")})}componentDidUpdate(){this.saveOptions(this.state)}saveOptions(e){return console.log(e),new Promise((t,n)=>{chrome.storage.local.set({iv_options:JSON.stringify(e)},function(){t(e)})})}loadOptions(){return new Promise((e,t)=>{chrome.storage.local.get("iv_options",n=>{if(n&&n.iv_options){const t=JSON.parse(n.iv_options),o=t.theme;for(const n of this.themes)if(console.log(o,n),o===n.toLowerCase())return void e(t);console.log(`Invalid theme: ${o}. Setting to light..`);const i=Object.assign(t,{theme:"light"});this.saveOptions(i).then(()=>{e(i)})}else this.saveOptions(this.state),t("Cannot get saved options, using defaults")})})}render(e){return s("div",{id:"options-page"},s(D,{themes:this.themes,theme:this.state.theme,infoPosition:this.state.infoPosition,clickModifier:this.state.clickModifier,showDate:this.state.showDate,titleCenterEnabled:this.state.titleCenterEnabled,captureMediaKeys:this.state.captureMediaKeys,handleThemeChange:this.handleThemeChange,handleInfoPositionChange:this.handleInfoPositionChange,handleModifierChange:this.handleModifierChange,handleShowDateChange:this.handleShowDateChange,toggleTitleCenter:this.toggleTitleCenter,toggleOption:this.toggleOption}),s(A,{miniPosition:this.state.miniPosition,miniSize:this.state.miniSize,miniDefault:this.state.miniDefault,handleMiniPositionChange:this.handleMiniPositionChange,handleMiniSizeChange:this.handleMiniSizeChange,toggleOption:this.toggleOption}),s(R,{commentBorders:this.state.commentBorders,commentSpacing:this.state.commentSpacing,commentSeparation:this.state.commentSeparation,toggleOption:this.toggleOption}),s(F,{primaryColor:this.state.primaryColor,secondaryColor:this.state.secondaryColor,customColorsEnabled:this.state.customColorsEnabled,animationSpeed:this.state.animationSpeed,overlayMode:this.state.overlayMode,overlayOpacity:this.state.overlayOpacity,backdropOpacity:this.state.backdropOpacity,backdropColor:this.state.backdropColor,handleSpeedChange:this.handleSpeedChange,handleColorChange:this.handleColorChange,handleOverlayOpacityChange:this.handleOverlayOpacityChange,handleBackdropOpacityChange:this.handleBackdropOpacityChange,handleBackdropColorChange:this.handleBackdropColorChange,toggleOption:this.toggleOption}),s("div",{id:"actions"},s("input",{id:"restore-defaults",type:"button",value:"Restore Default Options",onClick:this.handleRestoreDefaults})),s("div",{id:"links"},s("a",{target:"_blank",rel:"noopener",href:"https://chrome.google.com/webstore/detail/instantview-for-youtube/pababfeapfpjaghmlfipkcoioeflpbio/reviews"},"RATE"),s("a",{target:"_blank",rel:"noopener",href:"https://chrome.google.com/webstore/detail/instantview-for-youtube/pababfeapfpjaghmlfipkcoioeflpbio/support"},"ISSUES / FEEDBACK"),s("span",null,"EMAIL: afrmtbl@gmail.com")))}},null),document.body)}]);